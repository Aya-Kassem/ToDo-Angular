"use strict";(self.webpackChunkToDo=self.webpackChunkToDo||[]).push([[109],{9109:(T,_,c)=>{c.r(_),c.d(_,{StickyWallModule:()=>W});var r=c(6814),l=c(95),C=c(5619),t=c(4946),h=c(2785),M=c(6118),m=c(4248),p=c(737);function O(i,d){if(1&i){const n=t.EpF();t.TgZ(0,"div",4)(1,"div",13)(2,"div",14)(3,"i",15),t.NdJ("click",function(){const s=t.CHM(n).index,a=t.oxw();return t.KtG(a.editNote(s))}),t.qZA(),t.TgZ(4,"i",16),t.NdJ("click",function(e){const a=t.CHM(n).index,g=t.oxw();return t.KtG(g.boldedText(e,a))}),t.qZA(),t.TgZ(5,"i",17),t.NdJ("click",function(e){const a=t.CHM(n).index,g=t.oxw();return t.KtG(g.italicText(e,a))}),t.qZA(),t.TgZ(6,"i",18),t.NdJ("click",function(){const s=t.CHM(n).index,a=t.oxw();return t.KtG(a.deleteNote(s))}),t.qZA()(),t.TgZ(7,"div",19),t.NdJ("mouseup",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.getSelectedText())}),t._uU(8),t.qZA()()()}if(2&i){const n=d.$implicit;t.xp6(8),t.hij(" ",n.noteBody," ")}}function u(i,d){if(1&i){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-confirm-dialog",20),t.NdJ("response",function(e){t.CHM(n);const s=t.oxw();return t.KtG(s.confirmAction(e))}),t.qZA(),t.BQk()}if(2&i){const n=t.oxw();t.xp6(1),t.Q6J("msg",n.ConfirmMsg)("fire",n.NoteActionReq)}}function P(i,d){if(1&i){const n=t.EpF();t.ynx(0),t.TgZ(1,"app-toast",21),t.NdJ("response",function(e){t.CHM(n);const s=t.oxw();return t.KtG(s.toastClosed(e))}),t.qZA(),t.BQk()}if(2&i){const n=t.oxw();t.xp6(1),t.Q6J("msg",n.success)("fire",n.changesApplied)("type",n.notification)}}let f=(()=>{class i{constructor(n){this._NavService=n,this.allNotes=[],this.NoteActionReq=new C.X(!1),this.changesApplied=new C.X(!1),this.notification="notification",this.noteForm=new l.cw({noteBody:new l.NI("",l.kI.required)}),this.spanElement=document.createElement("span")}ngOnInit(){this._NavService.getNotes().subscribe(n=>{this.allNotes=n?JSON.parse(n):[]})}getSelectedText(){let n=window.getSelection();n&&(this.rangeAt=n.getRangeAt(0),this.selectedText=this.rangeAt.toString())}getElementAndStyle(n,o){let s,a;return"bold"==o&&(s="font-weight: bold",a="font-weight: normal"),"italic"==o&&(s="font-style: italic",a="font-style: normal"),{element:n.target,userStyle:s,defaultStyle:a}}applyStyle(n,o){if(this.selectedText&&this.rangeAt&&this.spanElement){const e=this.spanElement.cloneNode();e.style.cssText=n,e.textContent=this.selectedText,o.classList.add("clicked"),this.rangeAt.deleteContents(),this.rangeAt.insertNode(e),this.selectedText="",this.rangeAt=null}}removeStyle(n,o){if(this.selectedText&&this.rangeAt&&this.spanElement){const e=this.spanElement.cloneNode();e.style.cssText=n,e.textContent=this.selectedText,o.classList.remove("clicked"),this.rangeAt.deleteContents(),this.rangeAt.insertNode(e),this.selectedText="",this.rangeAt=null}}boldedText(n,o){let e=this.getElementAndStyle(n,"bold");e.element.classList.contains("clicked")?this.removeStyle(e.defaultStyle,e.element):this.applyStyle(e.userStyle,e.element)}italicText(n,o){let e=this.getElementAndStyle(n,"italic");e.element.classList.contains("clicked")?this.removeStyle(e.defaultStyle,e.element):this.applyStyle(e.userStyle,e.element)}editNote(n){let o=this.allNotes[n];this.noteIndex=n,this.noteForm.controls.noteBody.setValue(o.noteBody)}deleteNote(n){this.noteIndex=n,this.ConfirmMsg="Are You Sure You Want to Delete This Note?!",this.NoteActionReq.next(!0)}onSubmit(){const n=this.noteForm.value.noteBody;let o;null!=this.noteIndex&&(o=this.allNotes[this.noteIndex]),n&&o&&(o.noteBody=n),n&&!o&&this.allNotes.push({noteBody:n}),this._NavService.setNotes(JSON.stringify(this.allNotes)),this.noteForm.reset(),this.noteIndex=null}confirmAction(n){this.NoteActionReq.next(!1),n&&(this.success="Note Deleted Successfully",this.allNotes.splice(this.noteIndex,1),this._NavService.setNotes(JSON.stringify(this.allNotes)),this.changesApplied.next(!0))}toastClosed(n){n&&this.changesApplied.next(!1),this.noteIndex=null}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(h.t))};static#n=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-sticky-wall"]],decls:16,vars:4,consts:[[1,"stickyWall","container-fluid"],[1,"row","mb-3"],[1,"main-header"],[1,"row","allNotes"],[1,"col-sm-6","col-md-4","p-0","my-2"],[1,"d-flex","align-items-center","addNote","flex-column","p-0","mx-1",3,"formGroup","ngSubmit"],[1,"heading","border-bottom","d-flex","align-items-center","justify-content-between"],[1,"saveNote","m-0","p-2"],["type","submit"],["type","submit","pTooltip","Save",1,"bi","bi-save","p-2"],["placeholder","Write Your Notes ...","formControlName","noteBody",1,"note-description","px-3","py-2"],["class","col-sm-6 col-md-4 p-0 my-2",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"p-0","stickyNote","mx-1","d-flex","flex-column"],[1,"noteStyle","border-bottom","mt-auto","d-flex","align-items-center","justify-content-around","p-1"],["pTooltip","Edit",1,"bi","bi-pencil-square",3,"click"],["pTooltip","Bold",1,"bi","bi-type-bold","px-1",3,"click"],["pTooltip","Italic",1,"bi","bi-type-italic","px-1",3,"click"],["pTooltip","delete",1,"bi","bi-trash","px-1",3,"click"],[1,"note","note-description","px-3","py-2",3,"mouseup"],[3,"msg","fire","response"],[3,"msg","fire","type","response"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),t._uU(3,"Sticky Wall"),t.qZA()(),t.TgZ(4,"div",3)(5,"div",4)(6,"form",5),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(7,"div",6)(8,"p",7),t._uU(9,"Save Note"),t.qZA(),t.TgZ(10,"button",8),t._UZ(11,"i",9),t.qZA()(),t._UZ(12,"textarea",10),t.qZA()(),t.YNc(13,O,9,1,"div",11),t.YNc(14,u,2,2,"ng-container",12),t.YNc(15,P,2,3,"ng-container",12),t.qZA()()),2&o&&(t.xp6(6),t.Q6J("formGroup",e.noteForm),t.xp6(7),t.Q6J("ngForOf",e.allNotes),t.xp6(1),t.Q6J("ngIf",e.NoteActionReq.value),t.xp6(1),t.Q6J("ngIf",e.changesApplied.value))},dependencies:[r.sg,r.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,M.$,m.q,p.u],styles:[".stickyWall[_ngcontent-%COMP%]{width:100%}.stickyWall[_ngcontent-%COMP%]   .stickyNote[_ngcontent-%COMP%], .stickyWall[_ngcontent-%COMP%]   .addNote[_ngcontent-%COMP%]{height:250px;border-radius:5px;box-shadow:#00000029 0 1px 4px;padding:10px}.stickyWall[_ngcontent-%COMP%]   .stickyNote[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%], .stickyWall[_ngcontent-%COMP%]   .addNote[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{width:100%}.stickyWall[_ngcontent-%COMP%]   .stickyNote[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .note-heading[_ngcontent-%COMP%], .stickyWall[_ngcontent-%COMP%]   .addNote[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .note-heading[_ngcontent-%COMP%]{height:100%}.stickyWall[_ngcontent-%COMP%]   .stickyNote[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .stickyWall[_ngcontent-%COMP%]   .addNote[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background-color:inherit}.stickyWall[_ngcontent-%COMP%]   .stickyNote[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .saveNote[_ngcontent-%COMP%], .stickyWall[_ngcontent-%COMP%]   .addNote[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .saveNote[_ngcontent-%COMP%]{font-weight:500;color:#5c5470}.stickyWall[_ngcontent-%COMP%]   .stickyNote[_ngcontent-%COMP%]   .noteStyle[_ngcontent-%COMP%], .stickyWall[_ngcontent-%COMP%]   .addNote[_ngcontent-%COMP%]   .noteStyle[_ngcontent-%COMP%]{height:50px}.stickyWall[_ngcontent-%COMP%]   .stickyNote[_ngcontent-%COMP%]   .note-description[_ngcontent-%COMP%], .stickyWall[_ngcontent-%COMP%]   .addNote[_ngcontent-%COMP%]   .note-description[_ngcontent-%COMP%]{width:100%;border:none;overflow-x:auto}.stickyWall[_ngcontent-%COMP%]   .stickyNote[_ngcontent-%COMP%]   .note-description[_ngcontent-%COMP%], .stickyWall[_ngcontent-%COMP%]   .addNote[_ngcontent-%COMP%]   .note-description[_ngcontent-%COMP%]{resize:none;height:100%}.stickyWall[_ngcontent-%COMP%]   .stickyNote[_ngcontent-%COMP%]   .note-heading[_ngcontent-%COMP%]:focus, .stickyWall[_ngcontent-%COMP%]   .stickyNote[_ngcontent-%COMP%]   .note-description[_ngcontent-%COMP%]:focus, .stickyWall[_ngcontent-%COMP%]   .addNote[_ngcontent-%COMP%]   .note-heading[_ngcontent-%COMP%]:focus, .stickyWall[_ngcontent-%COMP%]   .addNote[_ngcontent-%COMP%]   .note-description[_ngcontent-%COMP%]:focus{outline:none;border:none}.stickyWall[_ngcontent-%COMP%]   .stickyNote[_ngcontent-%COMP%]   .noteStyle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .stickyWall[_ngcontent-%COMP%]   .stickyNote[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .stickyWall[_ngcontent-%COMP%]   .addNote[_ngcontent-%COMP%]   .noteStyle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .stickyWall[_ngcontent-%COMP%]   .addNote[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:17px;color:var(--IconsColor);cursor:pointer}.stickyWall[_ngcontent-%COMP%]   .stickyNote[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .stickyWall[_ngcontent-%COMP%]   .addNote[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:60%}.stickyWall[_ngcontent-%COMP%]   .stickyNote[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:focus-visible, .stickyWall[_ngcontent-%COMP%]   .addNote[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:focus-visible{outline:none}.stickyWall[_ngcontent-%COMP%]   .stickyNote[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .stickyWall[_ngcontent-%COMP%]   .addNote[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:transparent transparent;overflow:auto}.stickyWall[_ngcontent-%COMP%]   .addNote[_ngcontent-%COMP%], .stickyWall[_ngcontent-%COMP%]   .addNote[_ngcontent-%COMP%]   .note-description[_ngcontent-%COMP%], .stickyWall[_ngcontent-%COMP%]   .addNote[_ngcontent-%COMP%]   .note-heading[_ngcontent-%COMP%]{background-color:var(--lightGrey)}.clicked[_ngcontent-%COMP%]{color:#fff!important;background-color:var(--IconsColor);border-radius:3px}"]})}return i})();var y=c(2253);const N=[{path:"",component:f,canActivate:[c(6194).p]}];let k=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#n=this.\u0275mod=t.oAB({type:i});static#e=this.\u0275inj=t.cJS({imports:[y.Bz.forChild(N),y.Bz]})}return i})();var S=c(2078),v=c(5895);let W=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#n=this.\u0275mod=t.oAB({type:i});static#e=this.\u0275inj=t.cJS({imports:[r.ez,k,l.u5,l.UX,S.R,v.R,p.z]})}return i})()}}]);